#!/usr/bin/env php
<?php
namespace Danepowell\dp6502;

require dirname(__DIR__).'/vendor/autoload.php';
$rom = new ROM($argv[1]);
$ram = new RAM();
$via = new VIA();
$dataBus = new DataBus([$rom, $ram, $via]);
$mpu = new MPU($dataBus);

try {
  $mpu->reset();
}
catch (\Exception $exception) {
  echo 'Program execution error: ' . $exception->getMessage() . "\n";
}
